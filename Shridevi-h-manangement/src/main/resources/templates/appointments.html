<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>All Appointments | Manipal Hospital</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: #f8fbfb;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        /* Navbar */
        .navbar {
            background-color: #006d77;
        }
        .navbar-brand {
            color: #fff !important;
            font-weight: bold;
            font-size: 1.3rem;
        }
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,109,119,0.7), rgba(0,109,119,0.7)), 
                        url("https://img.freepik.com/free-photo/modern-hospital-building_23-2148974982.jpg");
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 60px 20px;
            margin-bottom: 40px;
        }
        .hero h1 {
            font-size: 2.8rem;
            font-weight: bold;
        }
        /* Table Styling */
        .card {
            border-radius: 15px;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
        }
        .table th {
            background-color: #006d77;
            color: white;
        }
        .btn-danger {
            border-radius: 20px;
            font-size: 0.9rem;
        }
        .btn-success, .btn-secondary {
            border-radius: 25px;
            padding: 8px 18px;
        }
    </style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" href="/">üè• Manipal Hospital</a>
    </div>
</nav>

<!-- HERO -->
<section class="hero">
    <h1>üìã All Booked Appointments</h1>
    <p>Manage patient appointments efficiently and easily</p>
</section>

<!-- MAIN CONTENT -->
<div class="container mb-5">
    <div class="card p-4">
        <div th:if="${#lists.isEmpty(appointments)}" class="alert alert-info text-center">
            No appointments booked yet.
        </div>

        <table th:if="${!#lists.isEmpty(appointments)}" class="table table-bordered table-hover text-center align-middle">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Patient Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Doctor</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="appointment : ${appointments}">
                    <td th:text="${appointment.id}"></td>
                    <td th:text="${appointment.customerName}"></td>
                    <td th:text="${appointment.customerEmail}"></td>
                    <td th:text="${appointment.customerPhone}"></td>
                    <td th:text="${appointment.doctorName}"></td>
                    <td>
                        <a th:href="@{/appointments/delete/{id}(id=${appointment.id})}" 
                           class="btn btn-danger btn-sm"
                           onclick="return confirm('Are you sure you want to delete this appointment?');">
                           ‚ùå Delete
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>

        <!-- Buttons -->
        <div class="d-flex justify-content-center gap-3 mt-4">
            <a href="/book" class="btn btn-success">‚ûï Book New Appointment</a>
            <a href="/" class="btn btn-secondary">üè† Back to Home</a>
        </div>
    </div>
</div>

</body>
</html>
